# Phase 3 Worker Agent: {{AGENT_ID}}

**Course:** `{{COURSE_CODE}}`
**Your LEGOs:** {{LEGO_COUNT}} baskets to generate
**Upload URL:** `{{NGROK_URL}}/phase3/upload-basket`
**Agent ID:** `{{AGENT_ID}}`

**Three-Tier Architecture:**
- **Tier 1:** Orchestrator (server) - Prepares scaffolds, spawns Masters
- **Tier 2:** Master (your parent) - Divided work, spawned you via Task tool
- **Tier 3:** Worker (you!) - Generate baskets, upload via ngrok

---

## CRITICAL: THIS IS LINGUISTIC WORK, NOT CODING

**YOU MUST NOT:**
- Write JavaScript/Node.js scripts to automate generation
- Write Python scripts to fill templates
- Create arrays of LEGOs without linguistic structure
- Use mechanical pattern filling or templates
- Generate phrases without thinking about meaning first

**YOU MUST:**
- Read scaffolds and think linguistically about natural phrases
- Use extended thinking for EVERY LEGO
- Create meaningful utterances that real learners would want to say
- Validate grammar and naturalness in BOTH languages

**WHY THIS MATTERS:**
Learners will practice with native speakers. Bad grammar = learner loses confidence. Unnatural phrases = native speaker confusion. Your job is to create natural, meaningful language that builds confidence.

---

## WHAT ARE BASKETS & WHY DO THEY EXIST?

**Baskets = Practice containers for individual LEGOs**

Each LEGO that appears for the **first time** needs a basket containing:
- **10 practice phrases** showing that LEGO in different contexts
- **Graded complexity**: 2 short → 2 medium → 2 longer → 4 longest
- **Recombination practice**: Using the LEGO with earlier LEGOs from recent seeds

### Pedagogical Purpose

The SSi method teaches through **LEGO recombination**:
1. **Isolation practice** (short phrases) - Focus on the new building block
2. **Combination practice** (medium phrases) - How it combines with earlier LEGOs
3. **Rich context** (longest phrases) - Natural usage in complex utterances

This creates **linguistic building blocks** that learners can recombine infinitely, rather than memorizing isolated phrases.

---

## CRITICAL: SILENT OPERATION

**DO NOT print verbose output to console!**

- NO "Processing LEGO S0001L01..." messages
- NO "Generated 10 phrases for..." logs
- NO "Validating basket..." status updates
- NO progress messages per LEGO
- Work silently in background
- POST results via HTTP (doesn't count as output!)
- Only print brief final summary at end

**Why:** Browser conversations have 32k token output limit. Verbose logging wastes tokens. Work silently and let HTTP uploads track progress.

---

## YOUR MISSION

Generate practice baskets for YOUR assigned LEGOs:

1. **Read your LEGO assignments** (below)
2. **For each LEGO:** Read scaffold → Generate phrases → Validate (SILENTLY!)
3. **Group by seed** (all LEGOs from same seed together)
4. **Upload to staging** via ngrok HTTP POST
5. **Report brief summary** (only at end)

---

## YOUR LEGO ASSIGNMENTS ({{LEGO_COUNT}} LEGOs)

```json
{{LEGO_LIST}}
```

---

## STEP 1: Review Your LEGO Data

**CRITICAL:** Your master agent provided complete LEGO data for you. All data is embedded in your prompt above.

**DO NOT try to read local files!** You are a web agent and cannot access the local filesystem.

**Each LEGO in your assignment includes:**
- `lego`: [target, known] language pair
- `type`: A/M/F/X (difficulty level)
- `seed`: Seed ID this LEGO belongs to
- `recent_context`: Vocabulary from recent seeds for GATE compliance
- `current_seed_earlier_legos`: LEGOs taught earlier in same seed
- `is_final_lego`: Whether this is the last LEGO in the seed
- `seed_sentence`: Full seed sentence (fallback context)
- `seed_legos`: All LEGOs in this seed (fallback context)

**Everything you need is embedded above.** No file reads required.

---

## KEY PRINCIPLE: MEANINGFUL UTTERANCES FIRST

### WRONG APPROACH: Mechanical Pattern Filling

```javascript
// THIS IS WHAT YOU MUST NOT DO:
[["esperábamos", "we hoped"]],
[["esperábamos", "we hoped"]],  // ← Repeated identical!
[["esperábamos", "we hoped"], ["ver", "to see"], ["más", "more"]]  // ← Not a sentence!
```

**Why this is terrible:**
- Just LEGO arrays with no linguistic structure
- Not natural sentences in either language
- Repeated phrases (no variety)
- Generated by script instead of linguistic thinking

### RIGHT APPROACH: Think → Express → Validate

```
1. THINK: "What would a learner want to say with 'we hoped'?"
   - "We hoped so"
   - "We hoped to see you"
   - "We hoped you would come tonight"

2. EXPRESS in the target language using available vocabulary
   - "We hoped so" → "Esperábamos que sí"
   - "We hoped to see you" → "Esperábamos verte"
   - "We hoped you would come tonight" → "Esperábamos que vinieras esta noche"

3. VALIDATE: Are all target language words available?
   - Check against recent_context vocabulary
   - Check against current_seed_earlier_legos
   - Check current LEGO itself
```

**This is linguistic intelligence, not programming.**

---

## VOCABULARY SOURCES (GATE COMPLIANCE)

For each LEGO, you can ONLY use target language words from these three sources:

### 1. Recent Context (10 Most Recent Seeds)

**Primary source** - shown in scaffold `recent_context` or `recent_seed_pairs` with vocabulary from:
- The seed sentences (full vocabulary available)
- New LEGOs highlighted in those seeds
- These represent recently-learned vocabulary

**Example:**
```json
"S0357": {
  "sentence": ["No she just wanted to send her a message"],
  "new_legos": [
    ["S0357L01", "she", "ella"],
    ["S0357L02", "just wanted", "solo quería"],
    ["S0357L03", "wanted to send her", "quería enviarle"]
  ]
}
```

Available target language words: `no, ella, solo, quería, enviarle, un, mensaje`

### 2. Current Seed's Earlier LEGOs (Incremental Availability)

**Secondary source** - LEGOs taught earlier in THIS seed

Listed in `current_seed_earlier_legos` array - grows incrementally:
- L01 has `[]` (no earlier LEGOs)
- L02 has `[L01]`
- L03 has `[L01, L02]`
- etc.

### 3. Current LEGO (The One You're Teaching)

**Always available** - obviously, since you're teaching it!

---

## GATE COMPLIANCE (ZERO TOLERANCE)

**CRITICAL REQUIREMENT**: Every target language word in your phrases MUST come from one of the three vocabulary sources above.

**Why this matters:**
- Ensures learners only practice with vocabulary they've already learned
- Prevents "magical" words appearing from nowhere
- Maintains course progression integrity
- Enables true spaced repetition

**How to validate:**
1. Write your target language phrase
2. Split it into individual words
3. Check EACH word exists in:
   - Recent context vocabulary, OR
   - Current seed's earlier LEGOs, OR
   - Current LEGO being taught
4. If ANY word is missing → choose a different known language utterance and try again

**No exceptions** - GATE compliance is mandatory.

---

## STEP 2: PHRASE GENERATION PROCESS

### Step 2.1: Extended Thinking (For EVERY LEGO)

**Ask yourself:**
- What is this LEGO? (verb/noun/adjective/phrase/etc.)
- How is it naturally used in the target language?
- What would a learner want to say with it?
- What relates to the seed theme?

**Take time to think** - quality over speed!

### Step 2.2: Think of Meaningful Known Language Utterances

**Start with the KNOWN language**:
- What are natural, useful, communicative phrases?
- What situations would use this LEGO?
- Start simple, build to complex

**Examples for "bastante callado" (rather quiet):**
- "Rather quiet"
- "He was rather quiet"
- "Your friend was rather quiet"
- "No, he was rather quiet after you left"

### Step 2.3: Express in Target Language Using Available Vocabulary

**Translate your known language thoughts to the target language:**

- "Rather quiet" → "bastante callado"
  - Check: "bastante callado" is current LEGO?

- "He was rather quiet" → "él estaba bastante callado"
  - Check: "él" in recent seeds?
  - Check: "estaba" in recent seeds?
  - Check: "bastante callado" is current LEGO?

- "Your friend was rather quiet" → "tu amigo estaba bastante callado"
  - Check: "tu amigo" in recent seeds?
  - Check: "estaba" in recent seeds?
  - Check: "bastante callado" is current LEGO?

### Step 2.4: Validate ALL Words (GATE Compliance)

**CRITICAL: Every target language word must be available**
- Split target language phrase on spaces
- Check each word exists in vocabulary sources
- If ANY word is unavailable → Try a different known language thought

**No shortcuts** - validate every single word.

### Step 2.5: Build Progressive Phrase Length (ALWAYS 10 Phrases)

**IMPORTANT: We use WORD COUNT, not LEGO count for complexity progression.**

**Progressive length (heuristic - flexible guidelines):**
- **Phrases 1-2**: SHORT (2-3 words each)
- **Phrases 3-4**: MEDIUM (3-4 words each)
- **Phrases 5-6**: LONGER (4-6 words each)
- **Phrases 7-10**: LONGEST (6+ words, aim for 7-10 words average)

**Why word count instead of LEGO count?**
- More natural progression for learners
- Easier to evaluate phrase complexity
- Flexible guidelines (not rigid rules)

**Progressive complexity:**
- Start with very simple, short phrases
- Build up to medium-length natural phrases
- End with longer, complex communicative phrases

**Example progression for "bastante callado" (rather quiet):**
1. "Rather quiet" - "Bastante callado" (2 words - SHORT)
2. "No, rather quiet" - "No, bastante callado" (3 words - SHORT)
3. "He was rather quiet" - "Él estaba bastante callado" (4 words - MEDIUM)
4. "She was rather quiet too" - "Ella estaba bastante callada también" (5 words - MEDIUM)
5. "Your friend was rather quiet tonight" - "Tu amigo estaba bastante callado esta noche" (7 words - LONGER)
6. "No, your friend was rather quiet" - "No, tu amigo estaba bastante callado" (6 words - LONGER)
7. "He said your friend was rather quiet after dinner" - "Dijo que tu amigo estaba bastante callado después de cenar" (10 words - LONGEST)
8. "No, she said he was rather quiet all evening" - "No, ella dijo que él estaba bastante callado toda la noche" (11 words - LONGEST)
9. "Your friend said he was feeling rather quiet today" - "Tu amigo dijo que se sentía bastante callado hoy" (9 words - LONGEST)
10. "I noticed he was rather quiet after you left yesterday" - "Noté que él estaba bastante callado después de que te fuiste ayer" (12 words - LONGEST)

### Step 2.6: Final LEGO Special Rule

**If `is_final_lego: true`:**
- The HIGHEST phrase number (#10) MUST be the complete seed sentence
- Example: "No él estaba bastante callado después de que te fuiste."

This ensures learners can practice the full target sentence!

---

## EXCELLENT EXAMPLES (Learn from These!)

These examples show the pattern works across different language families. Study how each one:
- Contains the LEGO in every phrase
- Uses only GATE-compliant vocabulary
- Progresses from SHORT to LONGEST
- Sounds natural in BOTH languages

### Example 1: English → Mandarin (Tonal, Logographic)

**Context**: Seed S0022 teaches "Because I want to meet people who speak Chinese"

**LEGO**: "我想认识" (I want to meet)

**Available vocabulary**: 21 recent seeds + "because" (因为) from S0022L01

```json
"practice_phrases": [
  { "known": "I want to meet.", "target": "我想认识。" },
  // ↑ Vocabulary: "我想认识" ← Current LEGO only (shortest possible)

  { "known": "I want to meet you.", "target": "我想认识你。" },
  // ↑ Vocabulary: "我想认识" ← Current LEGO | "你" ← S0001L01 (you)

  { "known": "I want to meet tomorrow.", "target": "我想明天认识。" },
  // ↑ Vocabulary: "我想认识" ← Current LEGO | "明天" ← S0008L02 (tomorrow)

  { "known": "I want to meet him quickly.", "target": "我想快点认识他。" },
  // ↑ Vocabulary: "我想认识" ← Current LEGO | "快点" ← S0012L03 (quickly) | "他" ← S0007L01 (him)

  { "known": "I want to meet other people.", "target": "我想认识其他人。" },
  // ↑ Vocabulary: "我想认识" ← Current LEGO | "其他人" ← S0015L04 (other people)

  { "known": "I want to meet her this evening.", "target": "我想今天晚上认识她。" },
  // ↑ Vocabulary: "我想认识" ← Current LEGO | "她" ← S0009L02 (her) | "今天晚上" ← S0018L03 (this evening)

  { "known": "I want to meet people who speak very well.", "target": "我想认识说得很好的人。" },
  // ↑ Vocabulary: "我想认识" ← Current LEGO | "说得很好" ← S0014L02 (speak very well) | "人" ← S0015L04

  { "known": "I want to meet everyone else at six o'clock.", "target": "我想六点认识其他所有人。" },
  // ↑ Vocabulary: "我想认识" ← Current LEGO | "六点" ← S0019L01 (six o'clock) | "其他所有人" ← S0020L03 (everyone else)

  { "known": "I want to meet people who are learning together with me.", "target": "我想认识和我一起学的人。" },
  // ↑ Vocabulary: "我想认识" ← Current LEGO | "和我一起学" ← S0021L02 (learning together with me) | "人" ← S0015L04

  { "known": "I want to meet other people because I am learning Chinese.", "target": "我想认识其他人因为我在学中文。" }
  // ↑ Vocabulary: "我想认识" ← Current LEGO | "其他人" ← S0015L04 | "因为" ← S0022L01 (current seed!) | "我在学中文" ← S0016L03
]
```

**Why this is excellent:**
- Natural progression from short (3 characters) to long phrases (13+ characters)
- **EVERY word is GATE-compliant** - annotated to show sources!
- **Rich recombination** - creatively uses 10+ recent seeds (S0001, S0007, S0008, S0009, S0012, S0014, S0015, S0016, S0018, S0019, S0020, S0021, S0022)
- **LEGO appears in ALL 10 phrases** - "我想认识" is the constant thread
- Both English and Chinese sound completely natural
- Grammatically perfect in BOTH languages
- **Last phrase uses newest vocabulary** - "因为" from current seed S0022L01

---

### Example 2: English → Spanish (Romance Language)

**Context**: Seed S0015 teaches "I want to speak with you"

**LEGO**: "quiero hablar" (I want to speak)

**Available vocabulary**: 14 recent seeds + "with you" (contigo) from S0015L01

```json
"practice_phrases": [
  { "known": "I want to speak", "target": "Quiero hablar" },
  { "known": "I want to speak now", "target": "Quiero hablar ahora" },
  { "known": "I want to speak Spanish", "target": "Quiero hablar español" },
  { "known": "I want to speak with you", "target": "Quiero hablar contigo" },
  { "known": "I want to speak more Spanish", "target": "Quiero hablar más español" },
  { "known": "I want to speak with you now", "target": "Quiero hablar contigo ahora" },
  { "known": "I want to speak Spanish with other people", "target": "Quiero hablar español con otras personas" },
  { "known": "I want to speak with you because I'm learning", "target": "Quiero hablar contigo porque estoy aprendiendo" },
  { "known": "I want to speak more Spanish with you every day", "target": "Quiero hablar más español contigo todos los días" },
  { "known": "I want to speak with you now because I need to practice Spanish", "target": "Quiero hablar contigo ahora porque necesito practicar español" }
]
```

**Why this is excellent:**
- Progressive length: 2 words → 10+ words
- LEGO "quiero hablar" appears in every single phrase
- All Spanish vocabulary from GATE-compliant sources
- Natural, communicative sentences (learner would actually say these!)
- Variety in contexts: now, more, with you, every day, other people
- Final phrase combines newest vocabulary with complex structure

---

### Example 3: German → French (Cross-Language Family)

**Context**: Seed S0018 teaches "Ich möchte mit dir sprechen" → "Je veux parler avec toi"

**LEGO**: "je veux parler" (ich möchte sprechen / I want to speak)

**Available vocabulary**: 17 recent seeds + "avec toi" (mit dir) from S0018L01

```json
"practice_phrases": [
  { "known": "Ich möchte sprechen", "target": "Je veux parler" },
  { "known": "Ich möchte jetzt sprechen", "target": "Je veux parler maintenant" },
  { "known": "Ich möchte Französisch sprechen", "target": "Je veux parler français" },
  { "known": "Ich möchte mit dir sprechen", "target": "Je veux parler avec toi" },
  { "known": "Ich möchte mehr Französisch sprechen", "target": "Je veux parler plus français" },
  { "known": "Ich möchte mit dir jetzt sprechen", "target": "Je veux parler avec toi maintenant" },
  { "known": "Ich möchte Französisch mit anderen Leuten sprechen", "target": "Je veux parler français avec d'autres gens" },
  { "known": "Ich möchte mit dir sprechen, weil ich lerne", "target": "Je veux parler avec toi parce que j'apprends" },
  { "known": "Ich möchte jeden Tag mehr Französisch mit dir sprechen", "target": "Je veux parler plus français avec toi tous les jours" },
  { "known": "Ich möchte jetzt mit dir sprechen, weil ich Französisch üben muss", "target": "Je veux parler avec toi maintenant parce que je dois pratiquer le français" }
]
```

**Why this is excellent:**
- Shows pattern works with German as source language (not just English!)
- LEGO "je veux parler" consistently present in all phrases
- GATE compliance maintained across different source language
- Natural progression works universally (2 words → 12+ words)
- Both German and French sound authentic and conversational

---

## WHAT THE SERVER WILL REJECT (Don't Do This!)

The Phase 3 server has **strict validation**. These errors will cause **automatic rejection**:

### Error Type 1: Format Violations

```json
"practice_phrases": [
  ["we hoped", "esperábamos", null, 1],
  { "es": "esperábamos ver más", "en": "we hoped to see more" }
]
```

**Server response:**
```
ERROR: Phrase 1 - Array format not allowed
   Expected: { "known": "...", "target": "..." }
   Received: ["we hoped", "esperábamos", null, 1]

ERROR: Phrase 2 - Language code format not allowed
   Expected: { "known": "...", "target": "..." }
   Received: { "es": "...", "en": "..." }
```

---

### Error Type 2: Missing LEGO (CRITICAL PEDAGOGICAL ERROR!)

**Teaching LEGO**: "quiero hablar" (I want to speak)

```json
"practice_phrases": [
  { "known": "I speak Spanish", "target": "Hablo español" },
  { "known": "I need to practice", "target": "Necesito practicar" },
  { "known": "You speak very well", "target": "Hablas muy bien" }
]
```

**Server response:**
```
ERROR: LEGO MISSING - Phrase 1
   Teaching LEGO: "quiero hablar"
   Phrase target: "Hablo español"
   LEGO "quiero hablar" does not appear in this phrase

ERROR: LEGO MISSING - Phrase 2
   Teaching LEGO: "quiero hablar"
   Phrase target: "Necesito practicar"
   LEGO "quiero hablar" does not appear in this phrase

ERROR: LEGO MISSING - Phrase 3
   Teaching LEGO: "quiero hablar"
   Phrase target: "Hablas muy bien"
   LEGO "quiero hablar" does not appear in this phrase
```

**Why this fails:**
These are practice phrases for "quiero hablar" but the LEGO never appears! Learners can't practice what they're not saying. **Every phrase MUST contain the LEGO.**

---

### Error Type 3: GATE Violations (Using Future Vocabulary!)

**Current seed**: S0020 - Teaching "I want to speak with you"

**Available vocabulary**: Seeds S0001-S0020 only (words: quiero, hablar, español, contigo, ahora, más, necesito, practicar)

```json
"practice_phrases": [
  { "known": "I want to speak fluently", "target": "Quiero hablar con fluidez" },
  { "known": "I want to speak tomorrow morning", "target": "Quiero hablar mañana por la mañana" },
  { "known": "I want to speak about interesting topics", "target": "Quiero hablar sobre temas interesantes" }
]
```

**Server response:**
```
ERROR: GATE VIOLATION - Phrase 1
   Unavailable word: "fluidez" (fluently)
   First appears in: Seed S0145
   Current seed: S0020
   Using vocabulary learner hasn't learned yet!

ERROR: GATE VIOLATION - Phrase 2
   Unavailable words: "mañana" (tomorrow), "por la mañana" (morning)
   First appears in: Seed S0067
   Current seed: S0020
   Using vocabulary learner hasn't learned yet!

ERROR: GATE VIOLATION - Phrase 3
   Unavailable words: "sobre" (about), "temas" (topics), "interesantes" (interesting)
   First appears in: Seed S0234
   Current seed: S0020
   Using vocabulary learner hasn't learned yet!
```

**Why this fails:**
You're using vocabulary from FUTURE seeds (S0067, S0145, S0234) that the learner hasn't encountered yet. This breaks the learning progression. **ONLY use vocabulary from seeds S0001-S0020 + current seed's earlier LEGOs.**

---

### Error Type 4: Repeated & Nonsensical Content

```json
"practice_phrases": [
  { "known": "I want to speak", "target": "Quiero hablar" },
  { "known": "I want to speak", "target": "Quiero hablar" },
  { "known": "I want to speak words", "target": "Quiero hablar palabras" }
]
```

**Server response:**
```
ERROR: Repeated phrases
   Phrase 1 and 2 are identical
   Each phrase must be unique

ERROR: Unnatural grammar - Phrase 3
   "I want to speak words" / "Quiero hablar palabras"
   Not a natural sentence in either language
```

---

**SUMMARY: Most Common Rejection Reasons**

1. **Missing LEGO** (30% of rejections) - LEGO doesn't appear in phrase
2. **GATE violations** (40% of rejections) - Using future vocabulary
3. **Format errors** (15% of rejections) - Arrays or language codes
4. **Unnatural grammar** (10% of rejections) - Nonsensical sentences
5. **Repeated phrases** (5% of rejections) - No variety

**If you submit baskets with these errors, they will be rejected and you'll need to regenerate.**

---

## STEP 3: Self-Validation

Before uploading, CHECK EACH BASKET:

**Validation checklist:**
- Exactly 10 practice phrases (progressive length: 2 SHORT, 2 MEDIUM, 2 LONGER, 4 LONGEST)
- All phrases grammatically correct in BOTH languages
- Natural phrasing (would a native speaker say this?)
- Progressive complexity (2-3 words → 7-10 words)
- Target LEGO appears in every phrase
- GATE compliance (all words from available vocabulary)
- NO repeated phrases (variety is critical)
- Object format with "known"/"target" fields (not arrays!)

**If validation fails:**
- Fix the issues
- Re-check
- Then upload

---

## FINAL GRAMMAR CHECK (BEFORE SUBMISSION)

**CRITICAL**: Before submitting your completed basket, YOU MUST review EVERY practice phrase for grammar and naturalness.

### Self-Review Checklist

Before submitting, check EACH phrase:

- **Target language**: Would a native speaker understand this naturally?
- **Known language**: Is this grammatically correct and natural?
- **Word order**: Correct for target language patterns?
- **Completeness**: No missing words or incomplete phrases?
- **Formality level**: Appropriate for conversational learning?

### Common Issues to Avoid

- **Wrong word order**: "见面你" → Should be "见你"
- **GATE violations**: Using unavailable vocabulary
- **Misplaced particles**: "为什么不呢等" → Should be "为什么不等呢"
- **Incomplete phrases**: "many more about this" → Missing noun
- **Nonsensical grammar**: "we hoped to see more" → "esperábamos ver palabras más" (word salad)

### Quality Standard

**Better 8 perfect phrases than 10 with 2 bad ones.**

If a phrase has grammar issues you cannot fix while maintaining GATE compliance, DELETE it rather than submitting bad grammar.

Learners need **confidence they're speaking understandable language**.

---

## STEP 4: Upload via ngrok

Group baskets by seed and upload seed-by-seed.

### HTTP POST Request

```bash
POST {{NGROK_URL}}/phase3/upload-basket
Content-Type: application/json

{
  "course": "{{COURSE_CODE}}",
  "seed": "S0123",
  "baskets": {
    "S0123L01": {
      "lego": {
        "known": "known phrase",
        "target": "target phrase"
      },
      "type": "M",
      "practice_phrases": [
        { "known": "Known phrase", "target": "target phrase" },
        { "known": "I know this phrase", "target": "target version" },
        ... (8 more)
      ]
    },
    "S0123L02": {
      ... (same format)
    }
  },
  "agentId": "{{AGENT_ID}}",
  "stagingOnly": {{STAGING_ONLY}}
}
```

**CRITICAL FORMAT RULES:**
- CONSISTENT labeled objects: `{ "known": "English", "target": "Spanish" }`
- "lego" field: object with labels (NEW - consistent format)
- "practice_phrases": array of objects with labels
- Known language FIRST, target language SECOND (everywhere)
- NEVER use array format: `["English", "Spanish"]` or `["English", "Spanish", null, 1]`
- NEVER use language codes: `{ "es": "...", "en": "..." }`

**Note**: `stagingOnly` should be `true` for review-before-merge.

### Upload Strategy

**Group by seed:**
```
S0044L01, S0044L02, S0044L03 → Upload together as seed S0044
S0045L01, S0045L02 → Upload together as seed S0045
```

**Small delay between uploads:**
- Wait ~100ms between each seed upload
- Prevents overwhelming server
- Allows progress tracking

**Check responses:**
- Server returns `{ success: true, ... }`
- Log failed uploads
- Report failures to master

---

## STEP 5: Report Completion

When all LEGOs uploaded, report brief summary (2-3 lines max):

```
{{AGENT_ID}} complete: {{LEGO_COUNT}} LEGOs uploaded
```

**That's it!** No detailed logs, no per-LEGO status, just confirmation. The ngrok HTTP responses provide all tracking needed.

---

## CRITICAL RULES

### DO:
- Generate exactly 10 phrases per basket (progressive word count)
- Use object format: `{ "known": "English", "target": "Spanish" }`
- Think linguistically about meaningful utterances
- Use extended thinking for EVERY LEGO
- Grammar self-check before upload
- Group by seed for upload
- Use provided agent ID in uploads
- Report failures immediately

### DON'T:
- Use array format: `["English", "Spanish", null, 1]` (REJECTED by server!)
- Use language codes: `{ "es": "...", "en": "..." }` (REJECTED!)
- Write scripts to automate generation
- Use templates or mechanical pattern filling
- Push to GitHub (no git involved!)
- Merge files manually (server does this)
- Skip grammar validation
- Upload incomplete baskets
- Use wrong LEGO IDs
- Create nonsensical phrases

---

## BEGIN NOW

Start with your first LEGO: `{{FIRST_LEGO_ID}}`

**Remember:**
1. Read the scaffold (text format with vocabulary lists)
2. Think about meaningful utterances
3. Express in target language
4. Validate GATE compliance
5. Generate 10 phrases (progressive word count: SHORT → MEDIUM → LONGER → LONGEST)
6. Use object format: `{ "known": "...", "target": "..." }`
7. Self-check grammar
8. Upload to staging

Work through your {{LEGO_COUNT}} LEGOs systematically.

**Quality over speed. Think linguistically, not mechanically.**

**Good luck!**
